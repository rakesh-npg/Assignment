{"ast":null,"code":"import Vue from 'vue';\nimport axios from 'axios';\nimport VueAxios from 'vue-axios';\nimport SearchBox from './SearchBox.vue';\nVue.use(VueAxios, axios);\nexport default {\n  data() {\n    return {\n      formData: {\n        id: \"\",\n        address: {\n          hotelName: \"\",\n          hotelDoorno: \"\",\n          hotelLandmark: \"\",\n          hotelPincode: \"\"\n        },\n        cusomterId: \"\"\n      },\n      flagData: {\n        editForm: false,\n        formFlag: false,\n        sortArrow: [false, false, false]\n      },\n      tableHeaders: [\"id\", \"address\", \"customerId\", \"edit/delete\"],\n      tableData: [{\n        \"id\": 1,\n        \"address\": \"test\",\n        \"customerId\": 2\n      }, {\n        \"id\": 2,\n        \"address\": \"test\",\n        \"customerId\": 4\n      }]\n    };\n  },\n\n  mounted() {\n    this.read();\n  },\n\n  methods: {\n    async read() {\n      axios.get('http://127.0.0.1:3333/hotel/read').then(response => this.tableData = response.data);\n    },\n\n    async validateForm() {\n      this.$refs.form.validate();\n      console.log(\"vlaidation done\");\n      await axios.post('http://127.0.0.1:3333/hotel/create', this.formData).then(resposne => console.log(resposne));\n      this.$refs.form.reset();\n      this.flagData.formFlag = false;\n      this.read();\n    },\n\n    async editForm() {\n      this.$refs.form.validate();\n      console.log(\"edition done\");\n      await axios.post('http://127.0.0.1:3333/hotel/update', this.formData).then(resposne => console.log(resposne));\n      this.$refs.form.reset();\n      this.flagData.formFlag = false;\n      this.flagData.editForm = false;\n    },\n\n    async sortData(i, head) {\n      // let sortType = this.flagData.sortArrow[i] ? 'desc' : 'asc'\n      // let tempData = {\n      //     sortType: sortType, \n      //     col: head\n      // } \n      //send here \n      console.log(\"sortData\", head, i);\n      console.log(this.flagData.sortArrow[i]);\n      this.flagData.sortArrow[i] = !this.flagData.sortArrow[i];\n    },\n\n    async searchFunc(data) {\n      console.log(data);\n    },\n\n    editData(data) {\n      console.log(\"workinf\");\n      console.log(data);\n      this.formData = data;\n      this.flagData.formFlag = true;\n      this.flagData.editForm = true;\n    },\n\n    sortIconFlagDisplay(flag) {\n      if (this.flagData.sortArrow[flag]) return \"mdi-arrow-down\";else return \"mdi-arrow-up\";\n    },\n\n    clickOut() {\n      this.$refs.form.reset();\n      this.flagData.editForm = false;\n      this.flagData.formFlag = false;\n    }\n\n  },\n  components: {\n    SearchBox\n  }\n};","map":{"version":3,"mappings":"AAyGA;AACA;AACA;AACA;AACAA;AAEA;EACAC;IACA;MACAC;QACAC,MADA;QAEAC;UAEAC,aAFA;UAGAC,eAHA;UAIAC,iBAJA;UAKAC;QALA,CAFA;QASAC;MATA,CADA;MAYAC;QACAC,eADA;QAEAC,eAFA;QAGAC;MAHA,CAZA;MAiBAC,4DAjBA;MAkBAC,YACA;QACA,OADA;QAEA,iBAFA;QAGA;MAHA,CADA,EAMA;QACA,OADA;QAEA,iBAFA;QAGA;MAHA,CANA;IAlBA;EA+BA,CAjCA;;EAkCAC;IACA;EACA,CApCA;;EAsCAC;IACA;MACAC,8CACAC,IADA,CACAC,YACA,8BAFA;IAGA,CALA;;IAQA;MACA;MACAC;MACA,sEACAF,IADA,CACAG,iCADA;MAEA;MACA;MACA;IACA,CAhBA;;IAiBA;MACA;MACAD;MACA,sEACAF,IADA,CACAG,iCADA;MAEA;MACA;MACA;IACA,CAzBA;;IA0BA;MACA;MACA;MACA;MACA;MACA;MACA;MACAD;MACAA;MACA;IACA,CApCA;;IAsCA;MACAA;IACA,CAxCA;;IA0CAE;MACAF;MACAA;MACA;MACA;MACA;IACA,CAhDA;;IAiDAG;MACA,mCACA,wBADA,KAGA;IACA,CAtDA;;IAuDAC;MACA;MACA;MACA;IACA;;EA3DA,CAtCA;EAmGAC;IAAAC;EAAA;AAnGA","names":["Vue","data","formData","id","address","hotelName","hotelDoorno","hotelLandmark","hotelPincode","cusomterId","flagData","editForm","formFlag","sortArrow","tableHeaders","tableData","mounted","methods","axios","then","response","console","resposne","editData","sortIconFlagDisplay","clickOut","components","SearchBox"],"sourceRoot":"src/components","sources":["HotelTable.vue"],"sourcesContent":["<template>\n    <div>\n        <SearchBox @searchEmitPop=\"searchFunc\"/>\n\n        <v-btn @click=\"(() => flagData.formFlag = true)\">New Entry</v-btn>\n\n        <v-simple-table>\n            <thead>\n                <tr>\n                   <th\n                   v-for=\"(head, i) in tableHeaders\" :key=\"head\">\n                   {{head}}\n                   <template v-if=\"head != 'edit/delete'\">\n                        <v-icon small @click=\"sortData(i, head)\">{{sortIconFlagDisplay(i)}}</v-icon>\n                   </template>\n                    </th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr\n                v-for=\"data in tableData\" :key=\"data.id\">\n                    <td v-for=\"column in tableHeaders\" :key=\"column\">\n                    \n                        {{data[column]}}\n\n                    <template v-if=\"column == 'edit/delete'\">\n                        <v-icon small @click=\"editData(data)\">mdi-pencil</v-icon>\n                        <v-icon small @click=\"deleteData(data)\">mdi-delete</v-icon>\n                    </template>\n                </td>\n                </tr>\n            </tbody>\n\n        </v-simple-table>\n\n        <v-dialog v-model=\"flagData.formFlag\" @click:outside=\"clickOut\">   \n            <v-card>\n                    <v-card-title class=\"text-h5 grey lighten-2\">\n                    New Entry \n                    </v-card-title>\n\n                        \n                    <v-form\n                    ref=\"form\"\n                    v-model=\"valid\"\n                    lazy-validation\n                    >\n\n                        <v-text-field\n                        v-model=\"formData.id\"\n                        label=\"ID\" v-if=\"flagData.editForm\">\n                        \n                        </v-text-field>\n                \n                        <v-text-field\n                        v-model=\"formData.hotelName\"\n                        label=\"Name\">\n                        \n                        </v-text-field>\n                \n                        <v-text-field\n                        v-model=\"formData.hotelDoorno\"\n                        label=\"Door No\">\n                        \n                        </v-text-field>\n            \n\n                        <v-text-field\n                        v-model=\"formData.hotelLandmark\"\n                        label=\"Landmark\">\n                        \n                        </v-text-field>\n                        \n                        <v-text-field \n                        v-model=\"formData.hotelPincode\"  \n                        label=\"pincode\"\n                        >\n                        </v-text-field>\n\n                        <v-text-field \n                        v-model=\"formData.customerId\"  \n                        label=\"customer ID\"\n                        >\n                        </v-text-field>\n\n                        <v-btn @click=\"validateForm\" v-if=\"!flagData.editForm\">\n                        Submit\n                        </v-btn>\n                        \n                        <v-btn @click=\"editForm\" v-if=\"flagData.editForm\">\n                        Edit\n                        </v-btn>\n\n                    </v-form>\n\n                </v-card>\n            </v-dialog> \n\n          \n        \n    </div>\n</template>\n\n\n<script>\nimport Vue from 'vue';\nimport axios from 'axios';\nimport VueAxios from 'vue-axios';\nimport SearchBox from './SearchBox.vue';\nVue.use(VueAxios, axios)\n\nexport default{\n    data() {\n        return {\n            formData: {\n                id: \"\",\n                address: {\n\n                    hotelName: \"\",\n                    hotelDoorno: \"\",\n                    hotelLandmark: \"\",\n                    hotelPincode: \"\",\n                },\n                cusomterId: \"\",\n            },\n            flagData: {\n                editForm: false,\n                formFlag: false,\n                sortArrow: [false, false, false],\n            },\n            tableHeaders: [\"id\", \"address\", \"customerId\", \"edit/delete\"],\n            tableData: [\n                {\n                    \"id\": 1,\n                    \"address\": \"test\",\n                    \"customerId\": 2\n                },\n                {\n                    \"id\": 2,\n                    \"address\": \"test\",\n                    \"customerId\": 4\n                }\n            ]\n        };\n    },\n    mounted() {\n        this.read() \n    },\n\n    methods: {\n        async read() {\n            axios.get('http://127.0.0.1:3333/hotel/read')\n            .then((response) => \n            this.tableData = response.data)\n        },\n        \n\n        async validateForm() {\n            this.$refs.form.validate();\n            console.log(\"vlaidation done\");\n            await axios.post('http://127.0.0.1:3333/hotel/create', this.formData)\n            .then((resposne) => console.log(resposne))\n            this.$refs.form.reset();\n            this.flagData.formFlag = false \n            this.read() \n        },\n        async editForm() {\n            this.$refs.form.validate();\n            console.log(\"edition done\");\n            await axios.post('http://127.0.0.1:3333/hotel/update', this.formData)\n            .then((resposne) => console.log(resposne))\n            this.$refs.form.reset();\n            this.flagData.formFlag = false;\n            this.flagData.editForm = false;\n        },\n        async sortData(i, head) {\n            // let sortType = this.flagData.sortArrow[i] ? 'desc' : 'asc'\n            // let tempData = {\n            //     sortType: sortType, \n            //     col: head\n            // } \n            //send here \n            console.log(\"sortData\", head, i);\n            console.log(this.flagData.sortArrow[i]);\n            this.flagData.sortArrow[i] = !this.flagData.sortArrow[i];\n        },\n\n        async searchFunc(data){\n            console.log(data)\n        }, \n        \n        editData(data) {\n            console.log(\"workinf\");\n            console.log(data)\n            this.formData = data;\n            this.flagData.formFlag = true;\n            this.flagData.editForm = true;\n        },\n        sortIconFlagDisplay(flag) {\n            if (this.flagData.sortArrow[flag])\n                return \"mdi-arrow-down\";\n            else\n                return \"mdi-arrow-up\";\n        },\n        clickOut() {\n            this.$refs.form.reset();\n            this.flagData.editForm = false;\n            this.flagData.formFlag = false;\n        },\n    },\n    components: { SearchBox }\n}\n\n</script>"]},"metadata":{},"sourceType":"module"}