{"ast":null,"code":"// import { api } from '@/service/api';\nimport Vue from 'vue';\nimport axios from 'axios';\nimport VueAxios from 'vue-axios';\nVue.use(VueAxios, axios);\nexport default {\n  name: \"HotelTable\",\n\n  data() {\n    return {\n      valid: \"\",\n      tableData: [],\n      flagData: {\n        \"editData\": false,\n        \"newData\": false,\n        \"Form\": false\n      },\n      tableHeaders: [\"id\", \"hotel_name\", \"hotel_address\", \"customer_id\", \"delete\"],\n      hotelFormData: {\n        \"hotelName\": \"\",\n        \"hotelAddress\": \"\",\n        \"hotelCustomer\": \"\",\n        \"hotelDoorno\": \"\",\n        \"hotelSt\": \"\",\n        \"hotelLandmark\": \"\",\n        \"hotelPincode\": \"\"\n      }\n    };\n  },\n\n  mounted() {\n    this.read();\n  },\n\n  methods: {\n    async validateForm() {\n      this.$ref.form.validate();\n      console.log('test');\n      await axios.post('http://127.0.0.1:3333/hotel/create', this.hotelFormData);\n      this.$ref.form.reset();\n      this.flagData.newData = false;\n      this.flagData.Form = false;\n    },\n\n    async read() {\n      let val = await axios.get('http://127.0.0.1:3333/hotel/read');\n      this.tableData = val.data;\n      console.log(this.tableData);\n    },\n\n    async editForm(data) {\n      console.log(data);\n      this.flagData.newEntryForm = true;\n      this.hotelFormData.hotelDoorno = data.hotel_doorno;\n      this.hotelFormData.hotelLandmark = data.hotel_landmark;\n      this.hotelFormData.pincode = data.hotel_pincode;\n      this.hotelFormData.hotelName = data.hotel_name;\n      this.hotelFormData.hotelCustomer = data.customer_id;\n      this.flagData.editData = true;\n      this.flagData.Form = true;\n    },\n\n    async deleteData() {//delete \n    }\n\n  }\n};","map":{"version":3,"mappings":"AAuFA;AACA;AACA;AACA;AACAA;AAEA;EACAC,kBADA;;EAEAC;IACA;MACAC,SADA;MAEAC,aAFA;MAGAC;QACA,iBADA;QAEA,gBAFA;QAGA;MAHA,CAHA;MAQAC,4EARA;MASAC;QACA,eADA;QAEA,kBAFA;QAGA,mBAHA;QAIA,iBAJA;QAKA,aALA;QAMA,mBANA;QAOA;MAPA;IATA;EAoBA,CAvBA;;EAwBAC;IACA;EACA,CA1BA;;EA2BAC;IAGA;MACA;MACAC;MACA;MACA;MACA;MACA;IACA,CAVA;;IAaA;MACA;MACA;MACAA;IACA,CAjBA;;IAmBA;MACAA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA,CA7BA;;IA+BA,oBACA;IACA;;EAjCA;AA3BA","names":["Vue","name","data","valid","tableData","flagData","tableHeaders","hotelFormData","mounted","methods","console"],"sourceRoot":"src/components","sources":["HotelTable.vue"],"sourcesContent":["<template>\n    <div>\n        <h1>Table</h1>\n        <v-btn @click=\"(() => {this.flagData.Form = true\n                                this.flagData.newData = true})\">New Entry</v-btn>\n        <v-simple-table>\n            <thead>\n               <tr>\n                    <th v-for=\"(colName) in tableHeaders\" :key=\"colName\">\n                      {{colName}}\n                    </th>\n               </tr>\n            </thead>\n            <tbody>\n                <tr \n                v-for=\"rowData in tableData\" :key=\"rowData.id\">\n                    <td v-for=\"(colName) in tableHeaders\" :key=\"colName\">\n                        {{rowData[colName]}}\n                        <template v-if=\"colName == 'delete'\">\n                            <v-icon small @click=\"editForm(rowData)\">mdi-pencil</v-icon>\n                            <v-icon small @click=\"deleteData(rowData)\">mdi-delete</v-icon>\n                        </template>\n                    </td>\n                </tr>\n            </tbody>\n        </v-simple-table>\n\n        <v-dialog\n        v-model=\"flagData.Form\">\n        <v-card>\n                <v-card-title class=\"text-h5 grey lighten-2\">\n                New Entry\n                </v-card-title>\n\n                <v-form\n                ref=\"form\"\n                v-model=\"valid\"\n                lazy-validation\n                >\n                    <v-text-field\n                    v-model=\"hotelFormData.hotelName\"\n                    label=\"Hotel Name\">\n                    Hotel Name\n                    </v-text-field>\n            \n                    <v-text-field\n                    v-model=\"hotelFormData.hotelDoorno\"\n                    label=\"DoorNo\">\n                    DoorNo \n                    </v-text-field>\n        \n                    <v-text-field\n                    v-model=\"hotelFormData.hotelLandmark\"\n                    label=\"Landmark\">\n                    Landmark \n                    </v-text-field>\n        \n                    <v-text-field\n                    v-model=\"hotelFormData.hotelPincode\"\n                    label=\"Pincode\">\n                    Pincode \n                    </v-text-field>\n\n                    <v-text-field\n                    v-model=\"hotelFormData.hotelCustomer\"\n                    label=\"Customer ID\">\n                    Customer ID\n                    </v-text-field>\n        \n        \n\n\n                    <v-btn v-if=\"flagData.newData\" @click=\"validateForm\">\n                    Submit\n                    </v-btn>\n\n                    <v-btn v-if=\"flagData.editData\" @click=\"editData\">Edit</v-btn>\n                    \n                \n                </v-form>\n\n            </v-card>\n        </v-dialog>\n    </div>\n</template>\n\n<script>\n// import { api } from '@/service/api';\nimport Vue from 'vue';\nimport axios from 'axios';\nimport VueAxios from 'vue-axios';\nVue.use(VueAxios, axios)\n\nexport default{\n    name: \"HotelTable\", \n    data() {\n        return {\n            valid:\"\", \n            tableData: [], \n            flagData: {\n                \"editData\":false, \n                \"newData\":false, \n                \"Form\":false, \n            },\n            tableHeaders: [\"id\", \"hotel_name\", \"hotel_address\", \"customer_id\", \"delete\"], \n            hotelFormData: {\n                \"hotelName\": \"\", \n                \"hotelAddress\": \"\", \n                \"hotelCustomer\":\"\", \n                \"hotelDoorno\": \"\", \n                \"hotelSt\":\"\", \n                \"hotelLandmark\": \"\", \n                \"hotelPincode\":\"\", \n            },\n            \n        }\n    }, \n    mounted() {\n        this.read() \n    }, \n    methods:{\n        \n\n        async validateForm() {\n            this.$ref.form.validate() \n            console.log('test')\n            await axios.post('http://127.0.0.1:3333/hotel/create', this.hotelFormData)\n            this.$ref.form.reset() \n            this.flagData.newData = false \n            this.flagData.Form = false \n        },\n\n\n        async read() {\n            let val = await axios.get('http://127.0.0.1:3333/hotel/read')\n            this.tableData  = val.data\n            console.log(this.tableData) \n        },\n\n        async editForm(data) { \n            console.log(data)\n            this.flagData.newEntryForm = true \n            this.hotelFormData.hotelDoorno = data.hotel_doorno\n            this.hotelFormData.hotelLandmark = data.hotel_landmark\n            this.hotelFormData.pincode = data.hotel_pincode \n            this.hotelFormData.hotelName = data.hotel_name\n            this.hotelFormData.hotelCustomer = data.customer_id\n            this.flagData.editData = true \n            this.flagData.Form = true \n        },\n\n        async deleteData() {\n            //delete \n        }\n    }\n}\n</script>"]},"metadata":{},"sourceType":"module"}